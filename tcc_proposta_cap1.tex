%----------------------------------------------------------------------------------
% Exemplo do uso da classe tcc.cls. Veja o arquivo .cls
% para mais detalhes e instruções.
%----------------------------------------------------------------------------------

% PARA PREENCHIMENTO DO REVISOR:
% CHECKLIST
% [ ] Introduction: check the introduction 
    % [ ] Avoid jargon: Do you avoid jargon that is only explain in the rest of the text?
    % [ ] Clarity: Can anyone from computer science read the introduction and understand what's the objective?
    % [ ] Does it clearly describe the problem?
    % [ ] Does the introduction clearly state the contributions?

\sigla{COLREGS}{Collision Regulations at Sea}
\sigla{LSA}{Laboratório de Sistemas Autônomos}
\sigla{USV}{Unmanned Surface Vehicle}
\sigla{VO}{Velocity Obstacles}

\chapter{Introdução}\label{chap1:intro}
    %É significativo o número de importantes atividades aquáticas realizadas por seres humanos utilizando embarcações~\cite{LIU201671}. Porém, tais tarefas podem ser longas e entediantes, dificultando a constância de foco que deve ser mantida durante a execução~\cite{JURAK2020}. A distração pode levar a sérias consequências em um cenário onde há diversas embarcações na mesma área. Investigações mostram que o fator humano~\cite{HUANG2020451}, junto com o descumprimento de regras marítimas de evasão de colisão (COLREGS - do inglês \textit{"Convention on the International Regulations for Preventing Collisions at Sea"})~\cite{JURAK2020}, são as principais causas de acidentes envolvendo embarcações. Visando eliminar o fator humano e possibilitando a realização de tarefas longas, perigosas e com maior precisão, estudos sobre veículos de superfície não tripulados (do inglês \textit{"Unmanned Surface Vehicle"} - USV) vêm ganhando atenção~\cite{LIU201671}.
    
    %USV é um veículo que se move de forma autônoma através de um sistema embarcado ou distribuído~\cite{SONG2018351}. Com o desenvolvimento de USVs e sua atuação em meios comuns a outras embarcações (do inglês \textit{"Target Ship"} - TS), tripuladas ou não tripuladas, é inevitável que situações de colisão aconteçam. O principal desafio, atualmente, no desenvolvimento de um USV consiste em torná-lo capaz de evitar colisões. Contudo, apenas evitar colisão não é suficiente, é preciso que o USV se movimente de acordo com as mesmas regras aplicadas aos seres humanos, ou seja, de acordo com as COLREGS~\cite{COLREGS}. É importante que essa diretiva seja considerada no desenvolvimento de USVs, visto que em um cenário de colisão eminente entre um USV e um TS, a outra embarcação deve ser capaz de identificar a movimentação do USV como uma evasão da colisão~\cite{KUWATA2014110}.
    
    %Apesar de importantes, as COLREGS são normas destinadas à compreensão de seres humanos e deixam margens para interpretação, fazendo com que uma COLREGS possa ser aplicável, ou não, dependendo de cada caso~\cite{KUWATA2014110}. Consequentemente, em um cenário onde múltiplas embarcações possuem trajetos que se cruzam em algum ponto, é desejável que o sistema de um USV seja capaz de prever se em algum momento haverá risco de colisão com alguma embarcação próxima. Nesse sentido, um método muito utilizado para verificar risco de colisão é o Ponto de Maior Proximidade (do inglês \textit{"Closest Point of Approach" - CPA}), onde é analisada a distância entre as embarcações no momento em que elas estarão mais próximas~\cite{HUANG2019142}. Se essa distância não for considerada segura, um risco de colisão é detectado e um procedimento de evasão deverá ser iniciado.
    
    A tecnologia está em constante evolução. Nos últimos anos, avanços significativos em robótica e em inteligência artificial contribuíram para que pesquisas no desenvolvimento de veículos de superfície aquática não tripulados (USV - do inglês \textit{"Unmanned Surface Vehicle"}) ganhassem atenção~\cite{HUANG2020451}. Um USV é definido por atuar de forma autônoma através de um sistema embarcado ou controlado remotamente~\cite{SONG2018351}. Conduzidas por frentes militares, científicas e privadas, pesquisas no desenvolvimento de USVs têm o intuito de auxiliar em atividades como monitoramento, comércio, exploração e pesquisas~\cite{JURAK2020}. Com o emprego de USVs tais atividades poderiam possuir maior duração e acurácia, além do custo de manutenção ser reduzido~\cite{LIU201671}. Porém, aspirar essa série de atividades para um USV fará com que sua atuação ocorra em cenários compartilhados com outras embarcações~\cite{KUWATA2014110}.

    Sob responsabilidade da Organização Internacional da Marinha (IMO - do inglês \textit{"Internation Marine Organization"}), as regulamentações de prevenção de colisões no mar (COLREGS - do inglês \textit{"COLlision REGulations at Sea"}) definem como as embarcações devem agir em situações de colisão~\cite{JURAK2020}. Visto que investigações apontam que acidentes marítimos acontecem principalmente pela violação das COLREGS~\cite{SONG2018351}, é importante considerar a implementação das mesmas no desenvolvimento de USVs. Dada a frequência de acidentes e a gravidade das consequências, a colisão entre embarcações se torna uma preocupação latente~\cite{HUANG2019142}, e evadir de tais situações, um desafio no desenvolvimento de USVs~\cite{JURAK2020}. 

    Apesar da necessidade de considerar COLREGS no desenvolvimento de USVs, elas foram pensadas para serem compreendidas por humanos, que podem condicionar a sua aplicação à cada caso~\cite{KUWATA2014110}. Na Figura~\ref{fig:Kuwata2014_colregsInterpretation}, conforme apresentada por Kuwata \etal~\cite{KUWATA2014110}, é possível observar uma situação onde há risco de colisão (Figura~\ref{fig:Kuwata2014_colregApplicable}) e, portanto, deve-se seguir as COLREGS. Uma situação semelhante porém sem risco de colisão é apresentada na Figura~\ref{fig:Kuwata2014_colregNA}, onde as COLREGS não são aplicáveis. Para identificar situações em que as COLREGS devem, ou não, ser aplicadas é preciso identificar que há um risco de colisão. Para tanto, se utiliza um Índice de Risco de Colisão (CRI - do inglês \textit{"Collision Risk Index"})~\cite{HUANG2019142}. Esse índice pode ser obtido através do método Ponto de Maior Aproximação (CPA - do inglês \textit{"Closest Point of Approach"}), que utiliza indicadores para determinar quando um encontro resultará em colisão. Com base nas informações apresentadas e motivado pelo anseio de experienciar o processo científico, este trabalho visa explorar o CPA utilizando uma metodologia de pesquisa baseada essencialmente em 
    \begin{enumerate*}[label=\alph*)]
        \item identificação do problema,
        \item entendimento do problema,
        \item proposta de solução,
        \item implementação da solução,
        \item validação da solução, e
        \item comparação dos resultados com outros autores.
    \end{enumerate*}
    Como resultado, é esperado uma aplicação capaz de identificar o risco de colisão entre embarcações em um determinado encontro utilizando CPA.
    %Com base na literatura, constatou-se que obstáculos de velocidade (do inglês \textit{"Velocity Obstacles"} - VO) para solucionar o problema de evasão de colisão é promissor, e será utilizado no desenvolvimento deste trabalho. 
    Além disso, será realizada a integração em um sistema para USV já existente, para que seja possível realizar simulações e analisar se o comportamento resultante está de acordo com o esperado. 
    
    \begin{figure}
    \centering
    
        \begin{subfigure}{0.4\textwidth}
            \centering
            \includegraphics[width=\textwidth]{fig/chap1/colregs_applicable.png}
            \caption{}
            \label{fig:Kuwata2014_colregApplicable}
        \end{subfigure}
        \begin{subfigure}{0.4\textwidth}
            \centering
            \includegraphics[width=\textwidth]{fig/chap1/colregs_na.png}
            \caption{}
            \label{fig:Kuwata2014_colregNA}
        \end{subfigure}
    
    \caption{Mesmo encontro para diferentes velocidades da embarcação que se aproxima (triângulo azul). Na figura (a) a COLREGS é aplicável e o USV (triangulo cinza) deve desviar da embarcação que se aproxima, enquanto que na figura (b) não é aplicável e o USV pode seguir sua rota sem alteração}
    \label{fig:Kuwata2014_colregsInterpretation}
    \end{figure}
    
    Como contribuição, este trabalho visa capacitar o sistema desenvolvido por Jurak~\cite{JURAK2020} a identificar situações de colisão através do CPA, tornando possível aplicar COLREGS apenas para encontros em que haverá colisão e colaborando para o aprimoramento dos barcos-robôs pertencentes ao Laboratório de Sistemas Autônomos (LSA) da PUCRS. Ademais, a maioria dos sistemas desenvolvidos para USVs ou são resguardados por patentes, ou então possuem acesso restrito àqueles que não participaram de seu desenvolvimento~\cite{JURAK2020}. Sendo assim, este trabalho visa contribuir à comunidade de desenvolvedores mantendo o que for desenvolvido em código aberto. 
    
    O presente documento está estruturado da seguinte forma: no capítulo \ref{chap1:intro}, além das informações já apresentadas, o trabalho proposto será aprofundado na sessão \ref{subchap1:trab_prop}, e as contribuições serão evidenciadas na sessão \ref{subchap1:contrib}. O capítulo \ref{chap2:fund_teo} contém uma revisão teórica apresentando maiores detalhes a respeito de USV na sessão \ref{subchap2:USV}, COLREGS na sessão \ref{subchap2:colregs} e prevenção de colisão na sessão \ref{subchap2:prev_col}.
    
    %\section{Trabalho Proposto}\label{subchap1:trab_prop}
        %Motivado pelo propósito de experienciar o processo científico, este trabalho se propõe a realizar uma breve revisão da literatura sobre evasão de colisão aplicado a USV, identificando as técnicas utilizadas atualmente. Como resultado do estudo, será desenvolvida uma aplicação que seja capaz de detectar o CPA entre um USV e um TS prevendo qual regra da COLREGS será aplicável ao encontro. Por fim, para que seja possível analisar o comportamento resultante da implementação, a aplicação será integrada a um sistema para USV já existente, desenvolvido por Jurak~\cite{JURAK2020}.
        
        %Jurak~\cite{JURAK2020} desenvolveu um sistema de código aberto para evasão de colisão com respeito à COLREGS para veículos não-tripulados que navegam na superfície da água. Seu trabalho foi realizado utilizando o framework de desenvolvimento ROS (do inglês \textit{"Robot Operating System"}) e utilizou o simulador USV\_sim para realizar seus testes e obter seus resultado. Com base nisso, este trabalho será desenvolvido com base nos mesmos paradigmas ROS para que haja compatibilidade com o sistema de Jurak~\cite{JURAK2020}, possibilitando a integração. Consequentemente, o mesmo simulador será utilizado para realização dos testes.
        
    %\section{Contribuições}\label{subchap1:contrib}
        %A primeira contribuição deste trabalho é capacitar o sistema desenvolvido por Jurak~\cite{JURAK2020} a calcular o CPA de um encontro, colaborando para o aprimoramento dos barcos-robôs pertencentes ao Laboratório de Sistemas Autônomos da PUCRS. Além disso, a maioria dos sistemas desenvolvidos para USVs ou são resguardados por patentes, ou então possuem acesso restrito àqueles que não participaram de seu desenvolvimento~\cite{JURAK2020}. Sendo assim, este trabalho visa contribuir à comunidade de desenvolvedores mantendo o que for desenvolvido em código aberto.
        
        %A segunda contribuição, em decorrência da primeira, será identificar encontros em que as COLREGS não são aplicáveis. Kuwata \etal~nos mostra, através da Figura\ref{fig:Kuwata2014_colregApplicable}, uma situação de \textit{"crossing"} em que a COLREGS é aplicável, visto que há risco de colisão. Já na Figura\ref{fig:Kuwata2014_colregNA}, dada a baixa velocidade do TS, não há risco de colisão. Sendo assim, mesmo em uma situação caracterizada como \textit{"crossing"}, a COLREGS não é aplicável nesse caso.